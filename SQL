drop table if exists messages;
drop table if exists users;

CREATE TABLE users(
                      id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                      name VARCHAR(30) NOT NULL UNIQUE,
                      password VARCHAR NOT NULL
                      role VARCHAR
);

CREATE TABLE messages(
                         id INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                         user_id INT REFERENCES users(id) ON DELETE SET NULL,
                         message VARCHAR,
                         created_at timestamp
);


INSERT INTO users (name, password) VALUES ('user', '123', 'ROLE_USER');
INSERT INTO users (name, password) VALUES ('user2', '123', 'ROLE_USER');